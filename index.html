<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Transport Manager â€” HTML (Offline)</title>
  <link rel="stylesheet" href="assets/style.css">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0f172a">
</head>
<body>
  <aside class="sidebar">
    <div class="brand">ðŸšš Transport (Offline)</div>
    <nav>
      <a data-tab="dash" class="active">Dashboard</a>
      <a data-tab="drivers">Drivers</a>
      <a data-tab="attendance">Attendance</a>
      <a data-tab="vehicles">Vehicles</a>
      <a data-tab="records">Records</a>
      <a data-tab="reports">Reports</a>
      <hr>
      <a data-tab="backup">Backup/Restore</a>
    </nav>

  </aside>
  <main class="content">
    <section id="tab-dash" class="tab active">
      <h1>Dashboard</h1>
      <div class="cards">
        <div class="card"><h3>Total Income</h3><div class="big" id="sum-income">â‚¹0.00</div></div>
        <div class="card"><h3>Total Expense</h3><div class="big" id="sum-expense">â‚¹0.00</div></div>
        <div class="card"><h3>Net</h3><div class="big" id="sum-net">â‚¹0.00</div></div>
        <div class="card"><h3>Drivers</h3><div class="big" id="count-drivers">0</div></div>
        <div class="card"><h3>Vehicles</h3><div class="big" id="count-vehicles">0</div></div>
      </div>
      <h2>Recent Records</h2>
      <table id="table-vehicles">
            <thead><tr><th>No</th><th>Model</th><th>Type</th><th>Owner</th><th>Docs</th><th></th></tr></thead>
            <tbody></tbody>
      </table>
    </section>

    <section id="tab-drivers" class="tab">
      <h1>Drivers</h1>
      <div class="grid one">
        <div>
          <h2>Add Driver</h2>
          <form id="form-driver" class="form-grid">
            <label>Name<input name="name" required></label>
            <label>Mobile<input name="mobile"></label>
            <label>License No<input name="license_no"></label>
            <label>Aadhaar No<input name="aadhaar_no"></label>
            <label>PAN No<input name="pan_no"></label>
            <label>EPF No<input name="epf_no"></label>
            <label>ESI No<input name="esi_no"></label>
            <label>Insurance Policy No<input name="insurance_no"></label>
            <label>License (JPG/PNG/PDF)<input type="file" name="doc_license" accept=".jpg,.jpeg,.png,.pdf"></label>
            <label>Aadhaar (JPG/PNG/PDF)<input type="file" name="doc_aadhaar" accept=".jpg,.jpeg,.png,.pdf"></label>
            <label>PAN (JPG/PNG/PDF)<input type="file" name="doc_pan" accept=".jpg,.jpeg,.png,.pdf"></label>
            <label>ESI Card (JPG/PNG/PDF)<input type="file" name="doc_esi" accept=".jpg,.jpeg,.png,.pdf"></label>
            <label>Insurance (JPG/PNG/PDF)<input type="file" name="doc_insurance" accept=".jpg,.jpeg,.png,.pdf"></label>
            <button>Save Driver</button>
          </form>
        </div>
        <div>
          <h2>All Drivers</h2>
          <table id="table-drivers">
            <thead><tr><th>Name</th><th>Mobile</th><th>Docs</th><th></th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="tab-vehicles" class="tab">
      <h1>Vehicles</h1>
      <div class="grid one">
        <div>
          <h2>Add Vehicle</h2>
          <form id="form-vehicle" class="form-grid">
            <label>Vehicle No<input name="vehicle_no" required></label>
            <label>Model<input name="model"></label>
            <label>Type<input name="vtype" placeholder="Truck, Lorry, etc."></label>
            <label>Owner<input name="owner"></label>
            <label>RC<input type="file" name="doc_rc" accept=".jpg,.jpeg,.png,.pdf"></label>
            <label>Permit<input type="file" name="doc_permit" accept=".jpg,.jpeg,.png,.pdf"></label>
            <label>FC<input type="file" name="doc_fc" accept=".jpg,.jpeg,.png,.pdf"></label>
            <label>Insurance<input type="file" name="doc_insurance" accept=".jpg,.jpeg,.png,.pdf"></label>
            <label>Invoice<input type="file" name="doc_invoice" accept=".jpg,.jpeg,.png,.pdf"></label>
            <button>Save Vehicle</button>
          </form>
        </div>
        <div>
          <h2>All Vehicles</h2>
          <table id="table-vehicles">
            <thead><tr><th>No</th><th>Model</th><th>Type</th><th>Owner</th><th>Docs</th><th></th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>


    <section id="tab-attendance" class="tab">
      <h1>Driver Attendance</h1>
      <div class="grid one">
        <div>
          <h2>Mark Attendance</h2>
          <form id="form-attendance" class="form-grid">
          
            <label>Date<input type="date" name="adate" required></label>
            <label>Driver<select name="driver_id" required></select></label>
            <label>Status
              <select name="status" required>
                <option value="Present">Present</option>
                <option value="Absent">Absent</option>
                <option value="Leave">Leave</option>
                <option value="Half Day">Half Day</option>
              </select>
            </label>    
            <label>Note<input type="text" name="note" placeholder="Optional"></label>
            <button type="submit">Save Attendance</button>
          </form>
        </div>
        <div>
          <h2>Attendance Records</h2>
          <table id="table-attendance">
            <thead>
              <tr><th>Date</th><th>Driver</th><th>Status</th><th>Note</th><th></th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>  
    </section>
    
    
          






    <section id="tab-records" class="tab">
      <h1>Records</h1>
      <div class="grid one">
        <div>
          <h2>Add Record</h2>
          <form id="form-record" class="form-grid">
            <label>Date<input type="date" name="rdate" required></label>
            <label>Vehicle<select name="vehicle_id"></select></label>
            <label>Driver<select name="driver_id"></select></label>
            <label>Description<input name="description" placeholder="Fuel @ HPCL, Trip, Toll, etc."></label>
            <label>Type<select name="rtype"><option>Expense</option><option>Income</option></select></label>
            <label>Amount<input type="number" step="0.01" min="0" name="amount" required></label>
            <label>Status<select name="status"><option>Paid</option><option>Received</option><option>Pending</option></select></label>
            <label>Category<select name="category"><option>Fuel</option><option>Toll</option><option>Beta</option><option>Maintenance</option><option>Other</option></select></label>
            <label>Pay Mode<select name="paymode"><option>Cash</option><option>UPI</option><option>Bank</option><option>Credit</option><option>Other</option></select></label>
            <label>Note<input name="note"></label>
            <button>Save Record</button>
          </form>
        </div>
        <div>
          <h2>All Records</h2>
          <form id="filters" class="filters">
            <label>From<input type="date" name="from"></label>
            <label>To<input type="date" name="to"></label>
            <label>Type<select name="typ"><option value="">All</option><option>Expense</option><option>Income</option></select></label>
            <label>Vehicle<select name="veh"><option value="">All</option></select></label>
            <label>Driver<select name="drv"><option value="">All</option></select></label>
            <button type="submit">Apply</button>
            <button type="button" id="export-records">Export CSV</button>
          </form>
          <table id="table-records">
            <thead><tr><th>S No</th><th>Date</th><th>Vehicle</th><th>Driver</th><th>Description</th><th>Type</th><th>Amount</th><th>Status</th><th>Category</th><th>Pay</th><th>Note</th><th></th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="tab-reports" class="tab">
      <h1>Monthly Report</h1>
      <form id="report-form" class="filters">
        <label>Month<input type="month" name="month"></label>
        <button type="submit">Run</button>
        <button type="button" id="export-report">Export CSV</button>
        <button type="button" onclick="window.print()">Print</button>
      </form>
      <div class="cards">
        <div class="card"><h3>Total Income</h3><div class="big" id="rep-income">â‚¹0.00</div></div>
        <div class="card"><h3>Total Expense</h3><div class="big" id="rep-expense">â‚¹0.00</div></div>
        <div class="card"><h3>Net</h3><div class="big" id="rep-net">â‚¹0.00</div></div>
      </div>
      <h2>Vehicle Summary</h2>
      <table id="rep-vehicle">
        <thead><tr><th>Vehicle</th><th>Income</th><th>Expense</th><th>Net</th></tr></thead>
        <tbody></tbody>
      </table>
      <h2>Expense by Category</h2>
      <table id="rep-category">
        <thead><tr><th>Category</th><th>Total</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <section id="tab-backup" class="tab">
      <h1>Backup / Restore</h1>
      <div class="grid two">
        <div>
          <h2>Backup Data</h2>
          <p>Exports all data (including documents as base64) into a single JSON file.</p>
          <button id="btn-backup">Download Backup (.json)</button>
        </div>
        <div>
          <h2>Restore Data</h2>
          <p>Choose a previously saved backup file to restore.</p>
          <input type="file" id="file-restore" accept=".json">
        </div>
      </div>
    </section>
  </main>

  <script src="assets/app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  </script>
</body>
</html>
